<mat-card class="profile-card">
  <mat-card-header>
    <mat-card-title>Contraseña</mat-card-title>
    <mat-card-subtitle>Actualiza tu contraseña</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      <div class="form-container">
        <mat-form-field appearance="outline">
          <mat-label>Contraseña Actual</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="currentPassword"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="togglePasswordVisibility()"
            type="button"
          >
            <mat-icon>{{
              showPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Nueva Contraseña</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="newPassword"
          />
          <mat-error
            *ngIf="passwordForm.get('newPassword')?.hasError('pattern')"
          >
            Debe tener 12+ caracteres, 1 mayúscula, 1 número y 1 símbolo.
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Confirmar Nueva Contraseña</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="confirmNewPassword"
          />
          <mat-error *ngIf="passwordForm.hasError('passwordsDoNotMatch')">
            Las contraseñas no coinciden.
          </mat-error>
        </mat-form-field>
        <div class="form-actions">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="!passwordForm.valid"
          >
            Guardar Cambios
          </button>
        </div>
      </div>
    </form>
  </mat-card-content></mat-card
>
